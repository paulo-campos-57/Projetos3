{% extends 'base.html' %}
{% load static %}
{% block content %}

<body>
    <!-- seu_template_cargo.html -->
    {% include 'partial/_navbar.html'%}
    

    <div class="formulario-user-imagem-contener">
        <img class="formulario-user-imagem" src="{% static 'assets/fotos/foto1.jpeg' %}" alt="{{ user.username }} Foto">
    </div>

    <div class="formulario-user-texto-nome">
        {{user.first_name}} {{user.last_name}}
    </div>

    <div class="formulario-texto-intrucao">
        Escreva sua motivação
        para tornar-se um colaborador
    </div>
    
    <form method="post" action="{% url 'formulario_colaborador' %}" style="width: 367px; height: 67px;">
        {% csrf_token %}
        
        <div class="custom-select">
            <select id="id_opcao" name="opcao">
                <option value="" selected disabled>ESCOLHA UM CARGO</option>
                <option value="reportuser">SUPORTE E REPORTE</option>
                <option value="midiauser">GERENTE DE ACERVO</option>
            </select>
        </div>

        <div class="input-box">
            <textarea id="user-input" name="user_input" placeholder="Digite seu texto aqui..."></textarea>
            <div class="card-add-colaborador-text" id="char-count" style="position: absolute; right: 0%; top: 100%; font-size: 18px; line-height: 18px;">Limite de caracteres: 1500</div>
        </div>
       
        <button type="submit">Salvar</button>
    </form>


    <script>
        // Obtém uma referência ao campo de texto e à div de contagem de caracteres
        var textarea = document.getElementById('user-input');
        var charCount = document.getElementById('char-count');
    
        // Define o comprimento máximo permitido
        var maxLength = 1500;
    
        // Função para contar caracteres e atualizar a contagem
        function countCharacters() {
            var currentLength = textarea.value.length;
    
            if (currentLength > maxLength) {
                textarea.value = textarea.value.substring(0, maxLength);
                currentLength = maxLength;
            }
    
            charCount.textContent = 'Caracteres restantes: ' + (maxLength - currentLength);
        }
    
        // Adiciona um ouvinte de evento ao campo de texto
        textarea.addEventListener('input', countCharacters);
    
        // Chama a função inicialmente para garantir que a contagem seja exibida corretamente
        countCharacters();
    </script>
    

</body>

{% endblock %}