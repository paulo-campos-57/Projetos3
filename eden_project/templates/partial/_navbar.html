{% load static %}

<!-- Navbar à esquerda -->
<div class="sidebar_colaborador">
    
    
    <ul style="list-style-type: none; padding: 0; margin-top: 20px; display: flex; flex-direction: column; gap: 15px;">
        <li style="margin-bottom: 10px; width: 100%; text-align: center;">
            <a class="logo" href="{% url 'home' %}" style="display: block;">
                <img src="{% static 'assets/icones/Logo.png' %}" alt="Logo" style="display: inline-block; margin-bottom: 10px;">
            </a>
        </li>

        <li>
            <a class="home" href="{% url 'home' %}" style="display: block;">
                <img class="icone_navbar" id="IconeHome" src="{% static 'assets/imagens/Botao_Home.png' %}" alt="home">
            </a>
        </li>

        {% if perfil_colaborador %}
          {% if perfil_colaborador.atividade %}
            <li>
                <a class="gestaoTitulos" href="{% url 'gestao_titulos' %}" style="display: block;">
                    <img class="icone_navbar" id="IconeGestaoTitulos" src="{% static 'assets/imagens/BotaoGestaoTitulos.png' %}" alt="gestaoTitulos">
                </a>
            </li>

            <li>
                <a class="novosMembros" href="{% url 'novos_membros' %}" style="display: block;">
                    <img class="icone_navbar" id="IconeNovosMembros" src="{% static 'assets/imagens/BotaoNovosMembros.png' %}" alt="novosMembros">
                </a>
            </li>

            <li>
                <a class="gestaoEquipe" href="{% url 'gestao_equipe' %}" style="display: block;">
                    <img class="icone_navbar" id="IconeGestaoEquipe" src="{% static 'assets/imagens/BotaoGestaoEquipe.png' %}" alt="gestaoEquipe">
                </a>
            </li>

          {% else %}
            {% if perfil_colaborador.status != 'analise' %}
                <li>
                    <a class="formularioColaborador" href="{% url 'formulario_colaborador' %}" style="display: block;">
                        <img class="icone_navbar" id="IconeFormularioColaborador" src="{% static 'assets/imagens/FormularioColaborador.png' %}" alt="formularioColaborador">
                    </a>
                </li>
            {% else %}
            {% endif %}
          {% endif %}
        {% else %}
            {% if perfil_colaborador.status != 'analise' %}
                <li>
                    <a class="formularioColaborador" href="{% url 'formulario_colaborador' %}" style="display: block;">
                        <img class="icone_navbar" id="IconeFormularioColaborador" src="{% static 'assets/imagens/FormularioColaborador.png' %}" alt="formularioColaborador">
                    </a>
                </li>
            {% else %}
            {% endif %}
        {% endif %}

        <li>
            <a class="configuracao" href="{% url 'configuracoes' %}" style="display: block;">
                <img class="icone_navbar" id="IconeConfiguracao" src="{% static 'assets/imagens/BotaoConfiguracao.png' %}" alt="configuracao">
            </a>
        </li>

        <li>
            <a class="suporte" href="{% url 'suporte_e_reporte' %}" style="display: block;">
                <img class="icone_navbar" id="IconeSuporteReporte" src="{% static 'assets/imagens/BotaoSuporte.png' %}" alt="suporte">
            </a>
        </li>

        &nbsp;

        <li>
            <a class="botaoSair" href="{% url 'logout' %}" style="display: block;">
                <img class="icone_logout" src="{% static 'assets/imagens/BotaoSair.png' %}" alt="botaoSair">
            </a>
        </li>
    </ul>

</div>

<!-- Navbar horizontal abaixo da Sidebar -->
<nav class="navbar-horizontal" style="background-color: #004853; width: 1920px; height: 100px; position: fixed; top: 0; left: 280px; z-index: 98;">

    <!-- Links da Navbar -->
    <a class="botaoSair" href="javascript:void(0);" onclick="voltarPagina()" style="display: block;">
        <img class="navbar-seta-voltar" id="SetaBackID" src="{% static 'assets/imagens/SetaBack.png' %}" style="display: block;" alt="botaoSair">
    </a>

    <div class="card-navbar-lateral">
        <!-- Círculo Interno -->
        <div class="circle-navbar-lateral">
            <!-- Imagem do Círculo Interno -->
            <img src="{% static 'assets/fotos/foto1.jpeg' %}" alt="Imagem do Círculo Interno">
        </div>
        <!-- Texto -->
        <div class="text-navbar-lateral">
            <!-- Nome -->
            <div class="name-navbar-lateral">{{user.username}}</div>
            <!-- E-mail -->
            <div class="email-navbar-lateral">{{user.email}}</div>
        </div>
    </div>

    <ul style="list-style-type: none; padding: 0; display: flex; gap: 20px;">

        <!-- Seus links da Navbar aqui... -->

    </ul>
</nav>

<script>
    function voltarPagina() {
        window.history.back();
    }

    function alterarImagem() {
        var urlAtual = window.location.href;

        if (urlAtual.includes('novos_membros')) {
            var iconeNovosMembros = document.getElementById('IconeNovosMembros');
            iconeNovosMembros.src = "{% static 'assets/imagens/BotaoNovosMembros2.png' %}";
        }

        if (urlAtual.includes('gestao_equipe')) {
            var iconeGestaoEquipe = document.getElementById('IconeGestaoEquipe');
            iconeGestaoEquipe.src = "{% static 'assets/imagens/BotaoGestaoEquipe2.png' %}";
        }

        if (urlAtual.endsWith('/')) {
            var iconeHome = document.getElementById('IconeHome');
            var setaBack = document.getElementById('SetaBackID');
            iconeHome.src = "{% static 'assets/imagens/Botao_Home2.png' %}";
            setaBack.style.display = 'none';
        }

        if (urlAtual.includes('formulario_colaborador')) {
            var iconeFormularioColaborador = document.getElementById('IconeFormularioColaborador');
            iconeFormularioColaborador.src = "{% static 'assets/imagens/FormularioColaborador2.png' %}";
        }

        if (urlAtual.includes('gestao_titulos')) {
            var iconeGestaoTitulos = document.getElementById('IconeGestaoTitulos');
            iconeGestaoTitulos.src = "{% static 'assets/imagens/BotaoGestaoTitulos2.png' %}";
        }

        if (urlAtual.includes('configuracoes')) {
            var iconeConfiguracao = document.getElementById('IconeConfiguracao');
            iconeConfiguracao.src = "{% static 'assets/imagens/BotaoConfiguracao2.png' %}";
        }

        if (urlAtual.includes('gestao_titulos')) {
            var iconeSuporteReporte = document.getElementById('IconeSuporteReporte');
            iconeSuporteReporte.src = "{% static 'assets/imagens/BotaoSuporte2.png' %}";
        }
    }

    window.onload = alterarImagem;
</script>